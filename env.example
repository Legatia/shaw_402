# Environment Variables Template
# Copy this file to .env and update with your actual values

# Facilitator Configuration
FACILITATOR_PORT=3001
FACILITATOR_PRIVATE_KEY=your_facilitator_private_key_base58_here
FACILITATOR_PUBLIC_KEY=your_facilitator_public_key_here

# Server Configuration
SERVER_PORT=3000
SERVER_URL=http://localhost:3000
FACILITATOR_URL=http://localhost:3001

# Merchant Configuration
MERCHANT_SOLANA_ADDRESS=your_merchant_wallet_address_here

# Solana Configuration
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_WS_URL=wss://api.devnet.solana.com
SOLANA_NETWORK=devnet

# Database Configuration
DATABASE_PATH=./src/facilitator/nonce.db
AFFILIATE_DATABASE_PATH=./data/affiliate.db

# Payment Configuration
MAX_PAYMENT_AMOUNT=1000000000
NONCE_EXPIRY_HOURS=24

# Testing Configuration (set to false for real blockchain transactions)
SIMULATE_TRANSACTIONS=true

# Optional: USDC Token Configuration (Devnet)
USDC_MINT_ADDRESS=4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU
USDC_DECIMALS=6

# HTTP Request Configuration
REQUEST_TIMEOUT=30000
RETRY_ATTEMPTS=3
RETRY_DELAY=1000
REQUEST_BODY_LIMIT=10mb

# Background Task Configuration
CLEANUP_INTERVAL_HOURS=1

# Payment Tier Amounts (in lamports)
# Default: 0.01 SOL = 10,000,000 lamports
PREMIUM_DATA_AMOUNT=10000000
# Default: 0.005 SOL = 5,000,000 lamports
GENERATE_CONTENT_AMOUNT=5000000
# Default: 0.02 SOL = 20,000,000 lamports
DOWNLOAD_FILE_AMOUNT=20000000
# Default: 0.05 SOL = 50,000,000 lamports
TIER_ACCESS_AMOUNT=50000000

# Affiliate Platform Configuration
PLATFORM_WALLET=your_platform_wallet_address_here
PLATFORM_PRIVATE_KEY=your_platform_private_key_base58_here
# Security deposit: 1 SOL (1000000000 lamports) - REFUNDABLE when merchant cancels
REGISTRATION_FEE=1000000000
PLATFORM_BASE_URL=http://localhost:3000

# USDC Settlement Configuration
# Devnet USDC Mint: 4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU
# Mainnet USDC Mint: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v
USDC_MINT_ADDRESS=4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU

# Solana Pay Configuration
# Base URL for Solana Pay transaction request endpoints
SERVER_BASE_URL=http://localhost:3000
# Label shown in wallet apps
SOLANA_PAY_LABEL=x402 Payment Server
# Optional: Icon URL for wallet apps
SOLANA_PAY_ICON_URL=https://yourserver.com/icon.png

# ==============================================================================
# VAULT CONFIGURATION
# On-chain vault with lock periods and dynamic APY
# ==============================================================================

# On-Chain Vault Program (NEW - for dashboard)
VAULT_PROGRAM_ID=your_deployed_vault_program_id_here
# Get this from: anchor address or target/deploy/shaw_vault-keypair.json

VAULT_AUTHORITY=your_vault_authority_public_key_here
# The authority that can initialize the vault and authorize agents
# Generate with: solana-keygen new -o vault-authority.json

# Legacy Vault (OLD - for basic deposit tracking)
VAULT_PRIVATE_KEY=your_vault_private_key_base58_here
# Or use facilitator key as vault key (not recommended for production)
# If VAULT_PRIVATE_KEY not set, FACILITATOR_PRIVATE_KEY will be used

# Minimum deposit requirements
MIN_DEPOSIT_SOL=1000000000          # 1 SOL (in lamports)
MIN_DEPOSIT_USDC=100000000          # 100 USDC (in micro-units, 6 decimals)

# Staking Configuration (Future Implementation)
STAKING_ENABLED=true                # Enable staking of merchant deposits
REWARD_SHARE_RATE=0.8              # 80% of staking rewards go to merchants, 20% to platform
STAKING_PROTOCOL=native             # Options: native, marinade, jito, none
# For future: Marinade/Jito integration
# MARINADE_PROGRAM_ID=
# JITO_STAKE_POOL=

# ==============================================================================
# VAULT DASHBOARD NOTES
# ==============================================================================
# The merchant dashboard at /dashboard.html requires:
# 1. VAULT_PROGRAM_ID - deployed Anchor program ID
# 2. VAULT_AUTHORITY - vault authority public key
#
# To deploy vault program:
#   anchor build && anchor deploy --provider.cluster devnet
#
# To initialize vault (one-time):
#   anchor run initialize-vault -- --authority <VAULT_AUTHORITY>
#
# See docs/MVP_DEMO_GUIDE.md for complete setup instructions
